---
name: prompt-generation
description: Generate detailed coding prompts for each increment of a feature. Use when the user has completed Iteration Breakdown and wants to create implementation prompts for developers or AI coding agents.
---

# Prompt Generation Skill

## Purpose

Generate detailed coding prompts for each increment that was approved in Iteration Breakdown. These prompts follow a standardized template and provide comprehensive guidance for implementing each increment.

## When to Use This Skill

- User has completed Iteration Breakdown for a feature
- User wants to generate coding prompts for their feature increments
- User asks to create implementation guides or developer prompts
- User wants detailed specifications for each increment

## Your Task

You need to generate detailed coding prompts for each increment that was approved during Iteration Breakdown.

1. Read the feature summary file to understand the overall feature
2. Read the increments structure file: `{features_directory}/{feature_name_slug}_increments.md`
3. For each increment (starting with increment 1, then 2, etc.):
   - Generate a detailed prompt using the Write tool
   - Follow the exact template structure (see Template Structure below)
   - Save as: `{prompts_directory}/{feature_name_slug}/increment_{increment_number:02d}_{increment_slug}.md`
   - Ensure all required sections are complete and detailed
4. After generating all prompts, summarize what was created
5. Inform the user that prompt generation is complete

## Template Structure

Each prompt file must include these sections:

```markdown
# Feature: [Feature Name]
# Increment [N]: [Increment Name]

## Overview
[Brief description of the overall feature and this specific increment]

## Scope of This Increment
[Detailed description of what will be built in this increment]

### What's Included
- [Specific functionality item 1]
- [Specific functionality item 2]
- [Specific functionality item 3]

### What's NOT Included (Deferred to Later Increments)
- [Functionality deferred to next increment]
- [Future enhancements]

## Dependencies

### Previous Increments
- [Reference to increment N-1, if applicable]
- [What must be complete before this increment]

### Existing Features
- [features/existing_feature.md] - [Why it's relevant and integration points]

### External Dependencies
- [Third-party libraries, APIs, or services needed]
- [Infrastructure requirements]

## User Value
[Clear statement of what user can do after this increment is complete]

### User Story
As a [user type], I want to [action] so that [benefit].

## Acceptance Criteria
1. [Specific, testable criterion]
2. [Specific, testable criterion]
3. [Specific, testable criterion]
4. [Specific, testable criterion]
5. [Specific, testable criterion]

(Minimum 3-5 criteria)

## Technical Constraints
- [Technology limitations]
- [Performance requirements]
- [Security considerations]
- [Scalability needs]

## Testing Strategy
- **Unit tests**: [What to test]
- **Integration tests**: [What to test]
- **Manual testing**: [What to verify]

## Edge Cases to Consider
- [Edge case 1 and how to handle]
- [Edge case 2 and how to handle]
- [Edge case 3 and how to handle]

---
**Generated by Feature Breakdown Agent**
**Date**: [Timestamp]
**Feature**: [Feature name]
**Increment**: [N] of [M]
```

## File Organization

Create the directory structure:
```
{prompts_directory}/
└── {feature_name_slug}/
    ├── increment_01_{increment_1_slug}.md
    ├── increment_02_{increment_2_slug}.md
    └── ...
```

IMPORTANT: The directory name should be JUST the feature name slug (e.g., "cat-image-generation"),
NOT the increments file name (e.g., NOT "cat-image-generation_increments").

Example:
- Increments file: `features/cat-image-generation_increments.md` (note the "_increments" suffix)
- Prompts directory: `prompts/cat-image-generation/` (no "_increments" suffix)
- Prompt files: `prompts/cat-image-generation/increment_01_basic-setup.md`

## Generating Prompts Sequentially

IMPORTANT: Generate prompts one at a time in order (increment 1, then 2, then 3, etc.).
- This allows you to reference previous increments correctly
- Each increment builds on the previous ones
- Dependencies become clearer as you progress

## Guidelines

- Be detailed and specific in each section
- Reference existing features by their file paths when noting dependencies
- Reference future features if they're related dependencies
- Ensure acceptance criteria are testable (not vague like "works well")
- Include concrete examples in implementation guidance
- Think about realistic edge cases
- **IMPORTANT**: Before using Write tool, explain to the user what prompt you're about to generate (e.g., "Now I'll generate the prompt for Increment 1: [name]...")

## Handling the Increment Data

The increment structure from Iteration Breakdown is saved in: `{features_directory}/{feature_name_slug}_increments.md`

Read this file to understand:
- How many increments to generate
- What each increment should contain
- Dependencies between increments
- User value for each increment

## Completion

After generating all prompt files:
1. Summarize what was created (list all the prompt files with their paths)
2. Inform the user that the prompts are ready to use
3. Explain that these prompts can be given to developers or AI coding agents to implement the feature incrementally

## Important Context

- Feature summary location: `{features_directory}/{feature_name_slug}.md`
- Increments file location: `{features_directory}/{feature_name_slug}_increments.md`
- Prompts will be saved to: `{prompts_directory}/{feature_name_slug}/`
- Existing features context from project exploration is available
- Future features captured in earlier phases are available
- Use the Write tool to create each prompt file
- Create the prompts directory structure if it doesn't exist
- The prompts_directory is typically `./prompts/` or `{project_dir}/prompts/`
- The features_directory is typically `./features/` or `{project_dir}/features/`
